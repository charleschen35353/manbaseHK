# Manbase API Server

<!-- TOC -->

- [Manbase API Server](#manbase-api-server)
- [Server Connection Info](#server-connection-info)
  - [SSH](#ssh)
  - [MySQL](#mysql)
- [Class Diagram](#class-diagram)
- [Schema documentation](#schema-documentation)
  - [Table: `abnormality`](#table-abnormality)
    - [Description:](#description)
    - [Columns:](#columns)
    - [Indices:](#indices)
  - [Table: `announcement`](#table-announcement)
    - [Description:](#description-1)
    - [Columns:](#columns-1)
    - [Indices:](#indices-1)
  - [Table: `announcement_listings`](#table-announcement_listings)
    - [Description:](#description-2)
    - [Columns:](#columns-2)
    - [Indices:](#indices-2)
  - [Table: `business_address`](#table-business_address)
    - [Description:](#description-3)
    - [Columns:](#columns-3)
    - [Indices:](#indices-3)
  - [Table: `business_users`](#table-business_users)
    - [Description:](#description-4)
    - [Columns:](#columns-4)
    - [Indices:](#indices-4)
  - [Table: `districts`](#table-districts)
    - [Description:](#description-5)
    - [Columns:](#columns-5)
    - [Indices:](#indices-5)
  - [Table: `enrollments`](#table-enrollments)
    - [Description:](#description-6)
    - [Columns:](#columns-6)
    - [Indices:](#indices-6)
  - [Table: `individual_users`](#table-individual_users)
    - [Description:](#description-7)
    - [Columns:](#columns-7)
    - [Indices:](#indices-7)
  - [Table: `industry`](#table-industry)
    - [Description:](#description-8)
    - [Columns:](#columns-8)
    - [Indices:](#indices-8)
  - [Table: `job_applications`](#table-job_applications)
    - [Description:](#description-9)
    - [Columns:](#columns-9)
    - [Indices:](#indices-9)
  - [Table: `job_listings`](#table-job_listings)
    - [Description:](#description-10)
    - [Columns:](#columns-10)
    - [Indices:](#indices-10)
  - [Table: `job_type`](#table-job_type)
    - [Description:](#description-11)
    - [Columns:](#columns-11)
    - [Indices:](#indices-11)
  - [Table: `jobs`](#table-jobs)
    - [Description:](#description-12)
    - [Columns:](#columns-12)
    - [Indices:](#indices-12)
  - [Table: `rating`](#table-rating)
    - [Description:](#description-13)
    - [Columns:](#columns-13)
    - [Indices:](#indices-13)
  - [Table: `rating_category`](#table-rating_category)
    - [Description:](#description-14)
    - [Columns:](#columns-14)
    - [Indices:](#indices-14)
  - [Table: `review`](#table-review)
    - [Description:](#description-15)
    - [Columns:](#columns-15)
    - [Indices:](#indices-15)
  - [Table: `review_followup`](#table-review_followup)
    - [Description:](#description-16)
    - [Columns:](#columns-16)
    - [Indices:](#indices-16)
  - [Table: `users`](#table-users)
    - [Description:](#description-17)
    - [Columns:](#columns-17)
    - [Indices:](#indices-17)
  - [Table: `verification`](#table-verification)
    - [Description:](#description-18)
    - [Columns:](#columns-18)
    - [Indices:](#indices-18)

<!-- /TOC -->

# Server Connection Info

## SSH

- Server: `manbase-api.williswcy.com` or `test.manbasehk.com`
- Account: root
- Password: eqh49-v3bnb
- Location: ~/manbase
- Start the testing server by -

```
cd manbase
pipenv shell
gunicorn run:app
```

- The website should then be accessible remotely via `https://test.manbasehk.com/`.

## MySQL

- Server Host: `manbase-api.williswcy.com` or `test.manbasehk.com`
- Account: charlescly / lancetpk / williswcy
- Password: Same as the account name
- Note: Please update your password with the following SQL command -

```sql
UPDATE mysql.user SET Password = PASSWORD('{your_new_password}') WHERE user = '{your_account}';
```

- Start the MySQL prompt with `mysql`, or connect remotely.
- Note the `public` (currently) has `SELECT`, `UPDATE` and `INSERT` prviledges on all tables of `manbasdb`.
- The password of `public` is `b05qv-x4xca`.

# Class Diagram

![Class Diagram](img/CLASS_DIAGRAM.png)


# Schema documentation

Generated by MySQL Workbench Model Documentation v1.0.0 - Copyright (c) 2015 Hieu Le

## Table: `abnormality`

### Description: 
The abnormality reported by the users, which requires further follow-up by us.


### Columns: 

| Column             | Data type    | Attributes        | Default                                         | Description                                                |
| ------------------ | ------------ | ----------------- | ----------------------------------------------- | ---------------------------------------------------------- |
| `abn_creationTime` | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | The Timestamp the abnormality is submitted.                |
| `abn_id`           | VARCHAR(255) | PRIMARY, Not null |                                                 | A unique identifier of the abnormality                     |
| `abn_type`         | TINYTEXT     | Not null          |                                                 | **TBC**                                                    |
| `abn_status`       | TINYTEXT     | Not null          |                                                 | **TBC**                                                    |
| `abn_jb_id`        | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `jb_id` on table `jobs`.         |
| `abn_li_id`        | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `li_id` on table `job_listings`. |


### Indices: 

| Name      | Columns     | Type    | Description |
| --------- | ----------- | ------- | ----------- |
| PRIMARY   | `abn_id`    | PRIMARY |             |
| abn_li_id | `abn_li_id` | INDEX   |             |
| abn_jb_id | `abn_jb_id` | INDEX   |             |


## Table: `announcement`

### Description: 
The announcement made by the business users on a particular job


### Columns: 

| Column            | Data type    | Attributes        | Default                                         | Description                                                                                   |
| ----------------- | ------------ | ----------------- | ----------------------------------------------- | --------------------------------------------------------------------------------------------- |
| `an_creationTime` | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | The timestamp the announcement is posted                                                      |
| `an_id`           | VARCHAR(255) | PRIMARY, Not null |                                                 | A unique identifier of the announcement                                                       |
| `an_message`      | TEXT         | Not null          |                                                 | The content of the announcement                                                               |
| `an_isDeleted`    | TINYINT      |                   | `'0'`                                           | A flag which indicates whether this announcement is "deleted". `0`: Not deleted; `1`: Deleted |
| `an_sender_id`    | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `ur_id` on table `users`.                                           |


### Indices: 

| Name         | Columns        | Type    | Description |
| ------------ | -------------- | ------- | ----------- |
| PRIMARY      | `an_id`        | PRIMARY |             |
| an_sender_id | `an_sender_id` | INDEX   |             |


## Table: `announcement_listings`

### Description: 
TBC.

**TODO: Incorrect Mapping (Should Capture M-M relationship between `announcement` and `job_listings`; Captured M-M relationship between `job_applications` and `job_listings` instead.)

### Columns: 

| Column              | Data type    | Attributes        | Default                                         | Description                                                    |
| ------------------- | ------------ | ----------------- | ----------------------------------------------- | -------------------------------------------------------------- |
| `anli_an_id`        | VARCHAR(255) | PRIMARY, Not null |                                                 | **foreign key** to column `ap_id` on table `job_applications`. |
| `anli_li_id`        | VARCHAR(255) | PRIMARY, Not null |                                                 | **foreign key** to column `li_id` on table `job_listings`.     |
| `anli_creationTime` | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` |                                                                |


### Indices: 

| Name       | Columns                    | Type    | Description |
| ---------- | -------------------------- | ------- | ----------- |
| PRIMARY    | `anli_an_id`, `anli_li_id` | PRIMARY |             |
| anli_li_id | `anli_li_id`               | INDEX   |             |


## Table: `business_address`

### Description: 
TBC.

**TODO**: Did not consider this relation in registration.


### Columns: 

| Column              | Data type    | Attributes        | Default                                         | Description                                                   |
| ------------------- | ------------ | ----------------- | ----------------------------------------------- | ------------------------------------------------------------- |
| `bads_id`           | VARCHAR(255) | PRIMARY, Not null |                                                 |                                                               |
| `bads_creationTime` | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` |                                                               |
| `bads_detail`       | TEXT         | Not null          |                                                 |                                                               |
| `bads_jb_id`        | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `jb_id` on table `jobs`.            |
| `bads_district_id`  | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `district_id` on table `districts`. |


### Indices: 

| Name             | Columns            | Type    | Description |
| ---------------- | ------------------ | ------- | ----------- |
| PRIMARY          | `bads_id`          | PRIMARY |             |
| bads_jb_id       | `bads_jb_id`       | INDEX   |             |
| bads_district_id | `bads_district_id` | INDEX   |             |


## Table: `business_users`

### Description: 
The relation that captures the information of a business user.

### Columns: 

| Column                          | Data type    | Attributes        | Default                                         | Description                                                                                                  |
| ------------------------------- | ------------ | ----------------- | ----------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| `bu_id`                         | VARCHAR(255) | PRIMARY, Not null |                                                 | **foreign key** to column `ur_id` on table `users`.                                                          |
| `bu_ind_id`                     | VARCHAR(255) |                   | `NULL`                                          | **foreign key** to column `ind_id` on table `industry`. **TODO**: Did not consider this on the registrations |
| `bu_address`                    | VARCHAR(255) |                   | `NULL`                                          | The address of the business user. **TODO**: Did not consider this on the registrations                       |
| `bu_email`                      | VARCHAR(255) |                   | `NULL`                                          | The email address of the business user's company.                                                            |
| `bu_CName`                      | VARCHAR(36)  | Not null          |                                                 | The Chinese name of the business user's company.                                                             |
| `bu_EName`                      | VARCHAR(36)  |                   | `NULL`                                          | The English name of the business user's company.                                                             |
| `bu_picName`                    | VARCHAR(36)  | Not null          | The name of the person-in-charge of the company |
| `bu_phone`                      | VARCHAR(8)   | Not null          | The phone number of the business user           |
| `bu_isSMSVerified`              | TINYINT      |                   | `'0'`                                           | A flag of whether the phone number is verified                                                               |
| `bu_businessLogo`               | VARCHAR(255) |                   | `NULL`                                          | The file name of the Logo of the business user's company                                                     |
| `bu_isDeleted`                  | TINYINT      |                   | `'0'`                                           | A flag of whether this business user is deleted                                                              |
| `bu_BusinessVerificationStatus` | VARCHAR(1)   |                   | `'0'`                                           | A flag of whether this business user is verified                                                             |


### Indices: 

| Name      | Columns     | Type    | Description |
| --------- | ----------- | ------- | ----------- |
| PRIMARY   | `bu_id`     | PRIMARY |             |
| bu_ind_id | `bu_ind_id` | INDEX   |             |


## Table: `districts`

### Description: 
To capture the possible district of a job.

### Columns: 

| Column          | Data type    | Attributes        | Default | Description                         |
| --------------- | ------------ | ----------------- | ------- | ----------------------------------- |
| `district_id`   | VARCHAR(255) | PRIMARY, Not null |         | A unique identifier of the district |
| `district_name` | VARCHAR(36)  | Not null          |         | The name of the district            |


### Indices: 

| Name    | Columns       | Type    | Description |
| ------- | ------------- | ------- | ----------- |
| PRIMARY | `district_id` | PRIMARY |             |


## Table: `enrollments`

### Description: 
The relation that captures the enrollment of a job by an individual user.


### Columns: 

| Column              | Data type    | Attributes        | Default                                                              | Description                                                    |
| ------------------- | ------------ | ----------------- | -------------------------------------------------------------------- | -------------------------------------------------------------- |
| `en_creationTime`   | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP`                      | The time the enrollment is submitted                           |
| `en_id`             | VARCHAR(255) | PRIMARY, Not null | A unique identifier of the enrollment                                |
| `en_is_paid`        | TINYINT      | Not null          | A flag of whether the enrollment is paid                             |
| `en_present_status` | TINYTEXT     | Not null          | The status of the enrollment. **TODO**: Define the possible statuses |
| `en_li_id`          | VARCHAR(255) | Not null          |                                                                      | **foreign key** to column `li_id` on table `job_listings`.     |
| `en_ap_id`          | VARCHAR(255) | Not null          |                                                                      | **foreign key** to column `ap_id` on table `job_applications`. |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `en_id`    | PRIMARY |             |
| en_li_id | `en_li_id` | INDEX   |             |
| en_ap_id | `en_ap_id` | INDEX   |             |


## Table: `individual_users`

### Description: 
The relation that store the informaiton of individual users.


### Columns: 

| Column                   | Data type     | Attributes        | Default                                                              | Description                                                                                                                 |
| ------------------------ | ------------- | ----------------- | -------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `iu_id`                  | VARCHAR(255)  | PRIMARY, Not null |                                                                      | **foreign key** to column `ur_id` on table `users`.                                                                         |
| `iu_phone`               | INT           | Not null          | The mobile phone number of the individual user.                      |
| `iu_isSMSVerified`       | TINYINT       |                   | `'0'`                                                                | A flag of whether the phone is verified by SMS                                                                              |
| `iu_profilePicture`      | VARCHAR(2048) |                   | `NULL`                                                               | The file name of the profile picture of the individual user                                                                 |
| `iu_isIndentityVerified` | TINYINT       |                   | `'0'`                                                                | A flag of whether the identity of the individual user is verified                                                           |
| `iu_email`               | VARCHAR(255)  |                   | `NULL`                                                               | The email address of the individual user                                                                                    |
| `iu_CName`               | VARCHAR(36)   | Not null          | The Chinese name of the individual user                              |
| `iu_EName`               | VARCHAR(36)   | Not null          | The English name of the individual user                              |
| `iu_alias`               | VARCHAR(36)   | Not null          | The nick name of the individual user                                 |
| `iu_HKID_head`           | VARCHAR(1)    | Not null          | The first letter of the HKID                                         |
| `iu_HKID_tail`           | VARCHAR(3)    | Not null          | The last three digit of the HKID (excluding the bracket check digit) |
| `iu_gender`              | TINYINT       | Not null          | The gender of the individual user. **TODO**: `0` stands for what?    |
| `iu_birthday`            | DATE          | Not null          | The birthdate of the individual user                                 |
| `iu_educationLevel`      | TINYTEXT      | Not null          |                                                                      | The education level of the individual user. **TODO**: `0` stands for what?                                                  |
| `iu_selfIntroduction`    | TEXT          |                   | `NULL`                                                               | The self-introduction of the individual user. **TODO**: No default value may mean that most users have a empty introduction |
| `iu_language_Cantonese`  | TINYINT       | Not null          |                                                                      | A flag indicating the individual user's ability of using Cantonese                                                          |
| `iu_language_English`    | TINYINT       | Not null          |                                                                      | A flag indicating the individual user's ability of using English                                                            |
| `iu_language_Putonghua`  | TINYINT       | Not null          |                                                                      | A flag indicating the individual user's ability of using Mandarin                                                           |
| `iu_isDeleted`           | TINYINT       |                   | `'0'`                                                                | A flag singalling the individual user is deleted                                                                            |
| `iu_language_Other`      | VARCHAR(36)   |                   | `NULL`                                                               | A string of other languages the individual user can speak                                                                   |


### Indices: 

| Name    | Columns | Type    | Description |
| ------- | ------- | ------- | ----------- |
| PRIMARY | `iu_id` | PRIMARY |             |


## Table: `industry`

### Description: 
The relation that captures the possible industry of a business user.


### Columns: 

| Column     | Data type    | Attributes        | Default | Description                          |
| ---------- | ------------ | ----------------- | ------- | ------------------------------------ |
| `ind_id`   | VARCHAR(255) | PRIMARY, Not null |         | An unique identifier of the industry |
| `ind_name` | TINYTEXT     | Not null          |         | The name of the industry             |


### Indices: 

| Name    | Columns  | Type    | Description |
| ------- | -------- | ------- | ----------- |
| PRIMARY | `ind_id` | PRIMARY |             |


## Table: `job_applications`

### Description: 
The relation that captures the application of a job listing by an individual user.


### Columns: 

| Column            | Data type    | Attributes        | Default                                                               | Description                                                    |
| ----------------- | ------------ | ----------------- | --------------------------------------------------------------------- | -------------------------------------------------------------- |
| `ap_creationTime` | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP`                       |                                                                |
| `ap_id`           | VARCHAR(255) | PRIMARY, Not null |                                                                       | A unique identifier of the application.                        |
| `ap_status`       | TINYTEXT     | Not null          | The status of the application. **TODO**: Define the possible statuses |
| `ap_isDeleted`    | TINYINT      |                   | `'0'`                                                                 | A flag that indicates the application is deleted               |
| `ap_li_id`        | VARCHAR(255) | Not null          |                                                                       | **foreign key** to column `li_id` on table `job_listings`.     |
| `ap_iu_id`        | VARCHAR(255) | Not null          |                                                                       | **foreign key** to column `iu_id` on table `individual_users`. |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `ap_id`    | PRIMARY |             |
| ap_li_id | `ap_li_id` | INDEX   |             |
| ap_iu_id | `ap_iu_id` | INDEX   |             |


## Table: `job_listings`

### Description: 
A relation that captures the possible shifts of a particular job.


### Columns: 

| Column           | Data type    | Attributes        | Default | Description                                             |
| ---------------- | ------------ | ----------------- | ------- | ------------------------------------------------------- |
| `li_id`          | VARCHAR(255) | PRIMARY, Not null |         | A unique identifier of the job listing                  |
| `li_jb_id`       | VARCHAR(255) | Not null          |         | **foreign key** to column `jb_id` on table `jobs`.      |
| `li_starttime`   | TIME         | Not null          |         | The start time of the shift                             |
| `li_endtime`     | TIME         | Not null          |         | The end time of the shift                               |
| `li_salary_amt`  | INT          | Not null          |         | The amount of salary (HKD)                              |
| `li_salary_type` | TINYTEXT     | Not null          |         | The type of salary. **TODO**: Define the possible types |
| `li_quota`       | INT          | Not null          |         | The quota of enrollment of the shift                    |
| `li_jt_id`       | VARCHAR(255) | Not null          |         | **foreign key** to column `jt_id` on table `job_type`.  |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `li_id`    | PRIMARY |             |
| li_jb_id | `li_jb_id` | INDEX   |             |
| li_jt_id | `li_jt_id` | INDEX   |             |


## Table: `job_type`

### Description: 
The relation that store the possible types of a job.


### Columns: 

| Column           | Data type      | Attributes        | Default | Description                         |
| ---------------- | -------------- | ----------------- | ------- | ----------------------------------- |
| `jt_id`          | VARCHAR(255)   | PRIMARY, Not null |         | A unique identifier of the job type |
| `jt_name`        | VARCHAR(36)    | Not null          |         | The name of the job type            |
| `jt_description` | VARCHAR(20000) | Not null          |         | The description of the job type     |


### Indices: 

| Name    | Columns | Type    | Description |
| ------- | ------- | ------- | ----------- |
| PRIMARY | `jt_id` | PRIMARY |             |


## Table: `jobs`

### Description: 
The relation that store the jobs created by the business users.


### Columns: 

| Column                     | Data type    | Attributes        | Default                                         | Description                                                                      |
| -------------------------- | ------------ | ----------------- | ----------------------------------------------- | -------------------------------------------------------------------------------- |
| `jb_creationTime`          | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | The timestamp the job is created                                                 |
| `jb_id`                    | VARCHAR(255) | PRIMARY, Not null |                                                 | A unique identifier of the job                                                   |
| `jb_decription`            | TEXT         | Not null          |                                                 | The description of the job                                                       |
| `jb_isDeleted`             | TINYINT      |                   | `'0'`                                           | A flag signaling the job is deleted                                              |
| `jb_expected_payment_days` | INT          | Not null          |                                                 | The number of days (after the shifts) that the business user must pay the salary |
| `jb_bu_id`                 | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `bu_id` on table `business_users`.                     |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `jb_id`    | PRIMARY |             |
| jb_bu_id | `jb_bu_id` | INDEX   |             |


## Table: `rating`

### Description: 
The relation that store the rating of a job listing (associated through review).


### Columns: 

| Column       | Data type    | Attributes        | Default | Description                                                   |
| ------------ | ------------ | ----------------- | ------- | ------------------------------------------------------------- |
| `rate_re_id` | VARCHAR(255) | PRIMARY, Not null |         | **foreign key** to column `re_id` on table `review`.          |
| `rate_rc_id` | VARCHAR(255) | PRIMARY, Not null |         | **foreign key** to column `rc_id` on table `rating_category`. |
| `rate_score` | INT          | Not null          |         | The score of the rating                                       |


### Indices: 

| Name       | Columns                    | Type    | Description |
| ---------- | -------------------------- | ------- | ----------- |
| PRIMARY    | `rate_re_id`, `rate_rc_id` | PRIMARY |             |
| rate_rc_id | `rate_rc_id`               | INDEX   |             |


## Table: `rating_category`

### Description: 
The relation that store the possible rating category of the system.


### Columns: 

| Column    | Data type    | Attributes        | Default | Description                         |
| --------- | ------------ | ----------------- | ------- | ----------------------------------- |
| `rc_id`   | VARCHAR(255) | PRIMARY, Not null |         | A unique identifier of the category |
| `rc_name` | VARCHAR(36)  | Not null          |         | The name of the category            |


### Indices: 

| Name    | Columns | Type    | Description |
| ------- | ------- | ------- | ----------- |
| PRIMARY | `rc_id` | PRIMARY |             |


## Table: `review`

### Description: 
The relation that store the rating of a user by another user, associated by a job listing.

**TODO**: `re_receiver_id` and `re_sender_id` should be a Foreign Key references `Users`, but did not appear so in the current database.

### Columns: 

| Column                | Data type    | Attributes        | Default                                         | Description                                               |
| --------------------- | ------------ | ----------------- | ----------------------------------------------- | --------------------------------------------------------- |
| `re_id`               | VARCHAR(255) | PRIMARY, Not null |                                                 | A unique identifier of the review                         |
| `re_creationTIME`     | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` |                                                           |
| `re_receiver_id`      | INT          | Not null          |                                                 |                                                           |
| `re_sender_id`        | INT          | Not null          |                                                 |                                                           |
| `re_comment`          | TEXT         | Not null          |                                                 |                                                           |
| `re_isFollowUpNeeded` | TINYINT      | Not null          |                                                 |                                                           |
| `re_isDeleted`        | TINYINT      |                   | `'0'`                                           |                                                           |
| `re_en_id`            | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `en_id` on table `enrollments`. |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `re_id`    | PRIMARY |             |
| re_en_id | `re_en_id` | INDEX   |             |


## Table: `review_followup`

### Description: 
**TBC**.


### Columns: 

| Column             | Data type    | Attributes        | Default                                         | Description                                          |
| ------------------ | ------------ | ----------------- | ----------------------------------------------- | ---------------------------------------------------- |
| `rf_creationTIME`  | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` |                                                      |
| `rf_id`            | VARCHAR(255) | PRIMARY, Not null |                                                 |                                                      |
| `rf_followup_time` | TIME         | Not null          |                                                 |                                                      |
| `rf_comment`       | TEXT         | Not null          |                                                 |                                                      |
| `rf_re_id`         | VARCHAR(255) | Not null          |                                                 | **foreign key** to column `re_id` on table `review`. |


### Indices: 

| Name     | Columns    | Type    | Description |
| -------- | ---------- | ------- | ----------- |
| PRIMARY  | `rf_id`    | PRIMARY |             |
| rf_re_id | `rf_re_id` | INDEX   |             |


## Table: `users`

### Description: 
A super class of `business_users` and `individual_users`. 


### Columns: 

| Column             | Data type    | Attributes        | Default                                         | Description                           |
| ------------------ | ------------ | ----------------- | ----------------------------------------------- | ------------------------------------- |
| `ur_creationTime`  | TIMESTAMP    | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | The timestamp the user is registered  |
| `ur_id`            | VARCHAR(255) | PRIMARY, Not null |                                                 | A unique identifier of each user      |
| `ur_login`         | VARCHAR(36)  | Not null          |                                                 | The login name of the user            |
| `ur_password_hash` | VARCHAR(255) | Not null          |                                                 | The password hash of the user         |
| `ur_isDeleted`     | TINYINT      |                   | `'0'`                                           | A flag signalling the user is deleted |


### Indices: 

| Name    | Columns | Type    | Description |
| ------- | ------- | ------- | ----------- |
| PRIMARY | `ur_id` | PRIMARY |             |


## Table: `verification`

### Description: 
A relation that stores the need for verification for both types of users.


### Columns: 

| Column              | Data type     | Attributes        | Default                                         | Description                                                       |
| ------------------- | ------------- | ----------------- | ----------------------------------------------- | ----------------------------------------------------------------- |
| `veri_creationTIME` | TIMESTAMP     | Not null          | `CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` |                                                                   |
| `veri_id`           | VARCHAR(255)  | PRIMARY, Not null |                                                 | A unique identifier of the verification task                      |
| `veri_type`         | TINYTEXT      | Not null          |                                                 | The type of the verification. **TODO**: Define the possible types |
| `veri_doc`          | VARCHAR(2048) | Not null          |                                                 | The filename of the document to be verified                       |
| `veri_ur_id`        | VARCHAR(255)  | Not null          |                                                 | **foreign key** to column `ur_id` on table `users`.               |


### Indices: 

| Name       | Columns      | Type    | Description |
| ---------- | ------------ | ------- | ----------- |
| PRIMARY    | `veri_id`    | PRIMARY |             |
| veri_ur_id | `veri_ur_id` | INDEX   |             |




